{% if vhostNum is not defined %}
{% set vhostNum = 1 %}
{% endif %}

<div id="nginx-vhost-{{ vhostNum }}">
    <legend>Virtual Host #{{ vhostNum }}</legend>
    <div class="control-group">
        <label class="control-label" for="nginx-vhosts-{{ vhostNum }}-servername">Server Name</label>

        <div class="controls">
            <input id="nginx-vhosts-{{ vhostNum }}-servername" name="nginx[vhosts][{{ vhostNum }}][servername]"
                   type="text" class="input-xlarge" required="required" value="awesome.dev" />
        </div>
    </div>

    <div class="control-group">
        <label class="control-label" for="nginx-vhosts-{{ vhostNum }}-serveraliases">Server Aliases</label>

        <div class="controls">
            <input id="nginx-vhosts-{{ vhostNum }}-serveraliases" name="nginx[vhosts][{{ vhostNum }}][serveraliases]"
                   type="text" class="input-xlarge tags" placeholder="www.awesome.dev" value="" />

            <p class="help-block">Separated by comma</p>
        </div>
    </div>

    <div class="row">
        <div class="span4">
            <div class="control-group">
                <label class="control-label" for="nginx-vhosts-{{ vhostNum }}-docroot">Document Root</label>

                <div class="controls">
                    <input id="nginx-vhosts-{{ vhostNum }}-docroot" name="nginx[vhosts][{{ vhostNum }}][docroot]"
                           type="text" required="" placeholder="/var/www/awesome" value="/var/www/" />
                </div>
            </div>
        </div>

        <div class="span2">
            <div class="control-group">
                <label class="control-label" for="nginx-vhosts-{{ vhostNum }}-port">Port</label>

                <div class="controls">
                    <input id="nginx-vhosts-{{ vhostNum }}-port" name="nginx[vhosts][{{ vhostNum }}][port]"
                           type="text" class="input-mini" placeholder="80" value="80" />
                </div>
            </div>
        </div>
    </div>

    <div class="control-group">
        <label class="control-label" for="nginx-vhosts-{{ vhostNum }}-index-files">Index Files</label>

        <div class="controls">
            <input id="nginx-vhosts-{{ vhostNum }}-index-files" name="nginx[vhosts][{{ vhostNum }}][index_files]"
                   type="text" class="input-xlarge" required="required" value="index.html,index.htm,index.php" />

            <p class="help-block">The last file should be the accessor to your PHP script or front controller</p>
        </div>
    </div>

    <div class="control-group">
        <label class="control-label" for="nginx-vhosts-{{ vhostNum }}-envvars">Environment Variables</label>

        <div class="controls">
            <input id="nginx-vhosts-{{ vhostNum }}-envvars" name="nginx[vhosts][{{ vhostNum }}][envvars]" type="text"
                   class="input-xlarge tags" placeholder="APP_ENV dev, APP_FOO bar" value="" />

            <p class="help-block">"name value", separated by comma</p>
        </div>
    </div>

    {% if vhostNum != '1' %}
        <p class="text-center"><a class="nginx-vhost-del btn btn-danger" href="#" rel="nginx-vhost-{{ vhostNum }}">Delete this Host</a></p>
    {% endif %}
</div>
